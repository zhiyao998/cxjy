<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="lcsw.mapper.PatientManagementMapper">
	
	<resultMap id="PatientManagementMap" type="lcsw.domain.PatientManagement" >
    	<id column="patient_management_id" property="patientManagementId" jdbcType="INTEGER" />
    	<result column="case_id" property="caseId" jdbcType="INTEGER" />
    	<result column="management_plan" property="managementPlan" jdbcType="VARCHAR" />
    	<result column="patient_management_type" property="patientManagementType" jdbcType="VARCHAR" />
    	<result column="score" property="score" jdbcType="DOUBLE" />
  	</resultMap>
  	
  	  	<select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="PatientManagementMap">
  		select patient_management_id,case_id,management_plan,patient_management_type,score from tbl_patient_management where patient_management_id = #{id}
  	</select>
  	
  	<select id="selectByCaseId" parameterType="java.lang.Integer" resultMap="PatientManagementMap">
  		select patient_management_id,case_id,management_plan,patient_management_type,score from tbl_patient_management where case_id = #{id}
  	</select>
  	
  	<insert id="insert" parameterType="PatientManagement" >
    	insert into tbl_patient_management (case_id, management_plan, patient_management_type, score)
    	values (#{caseId,jdbcType=INTEGER}, #{managementPlan,jdbcType=VARCHAR}, #{patientManagementType,jdbcType=VARCHAR}, 
    	 #{score,jdbcType=DOUBLE})
  	</insert>
  	
  	<insert id="insertByBatch" parameterType="java.util.List">
        insert into tbl_patient_management (case_id, management_plan, patient_management_type, score)
        values
        <foreach collection="list" item="item" index="index" separator=",">
            (#{item.caseId,jdbcType=INTEGER}, #{item.managementPlan,jdbcType=VARCHAR}, #{item.patientManagementType,jdbcType=VARCHAR}, 
    	 #{item.score,jdbcType=DOUBLE})
        </foreach>
    </insert>
	
	 <update id="updateByPrimaryKey" parameterType="PatientManagement" >
    	update tbl_patient_management
    	set case_id = #{caseId,jdbcType=INTEGER},
      		management_plan = #{managementPlan,jdbcType=VARCHAR},
      		patient_management_type = #{patientManagementType,jdbcType=VARCHAR},
      		score = #{score,jdbcType=DOUBLE}
    	where patient_management_id = #{patientManagementId,jdbcType=INTEGER}
  	</update>
  	
  	<update id="updateByBatch" parameterType="java.util.List" >
    	<foreach collection="list" item="item" index="index" separator=";">
    		update tbl_patient_management
    		<set>
    	    	case_id = #{item.caseId,jdbcType=INTEGER},
      			management_plan = #{item.managementPlan,jdbcType=VARCHAR},
      			patient_management_type = #{item.patientManagementType,jdbcType=VARCHAR},
      			score = #{item.score,jdbcType=DOUBLE}
      		</set>
    	where patient_management_id = #{item.patientManagementId,jdbcType=INTEGER}
    	</foreach>
  	</update>
  
    <delete id="deleteByPrimaryKey">
  		delete from tbl_patient_management
    	where patient_management_id = #{id,jdbcType=INTEGER}	
 	 </delete>
  
  	<delete id="deleteByCaseId" parameterType="java.util.List">
  		delete from tbl_patient_management
    	where case_id in 
    	<foreach collection="list" index="index" item="item" open="(" separator="," close=")">
    		#{item}
    	</foreach>	
 	 </delete>
	
	
</mapper>